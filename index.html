<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Step8up AI Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: '#ffa500',
                        'brand-dark': '#e69500',
                        dark: { 900: '#0a0a0a', 800: '#111', 700: '#1a1a1a', 600: '#222' }
                    },
                    fontFamily: {
                        sans: ['Poppins', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'Fira Code', 'monospace'],
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { -webkit-tap-highlight-color: transparent; -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; }
        body { font-family: 'Poppins', sans-serif; margin: 0; overflow: hidden; }

        /* Animated grid background */
        .tech-grid {
            background-image:
                linear-gradient(rgba(255,165,0,0.06) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,165,0,0.06) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: gridMove 20s linear infinite;
        }
        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 40px 40px; }
        }

        /* Floating particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255,165,0,0.3);
            border-radius: 50%;
            animation: float linear infinite;
        }
        @keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }

        /* Glow pulse */
        @keyframes glowPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255,165,0,0.3), 0 0 40px rgba(255,165,0,0.1); }
            50% { box-shadow: 0 0 30px rgba(255,165,0,0.5), 0 0 60px rgba(255,165,0,0.2); }
        }
        .glow-pulse { animation: glowPulse 2s ease-in-out infinite; }

        /* Progress glow */
        .progress-glow {
            box-shadow: 0 0 8px rgba(255,165,0,0.6), 0 0 16px rgba(255,165,0,0.3);
        }

        /* Slide in */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .slide-up { animation: slideUp 0.4s ease-out forwards; }

        /* Fade */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .fade-in { animation: fadeIn 0.3s ease-out forwards; }

        /* Scan line */
        .scan-line::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,165,0,0.4), transparent);
            animation: scan 3s linear infinite;
        }
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }

        /* Tap pulse on start */
        @keyframes tapPulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
        }
        .tap-pulse { animation: tapPulse 2s ease-in-out infinite; }

        /* Blinking cursor */
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .cursor-blink { animation: blink 0.8s step-end infinite; }
    </style>
</head>
<body class="bg-dark-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;

        const questions = [
            {
                question: "Which event is considered the starting point of AI as a field?",
                answers: ["Asilomar principles", "The invention of the internet", "Dartmouth Conference (1956)", "The first smartphone"],
                correct: 2
            },
            {
                question: 'What is an "AI winter"?',
                answers: ["A period when AI funding and interest dropped", "AI only works in cold weather", "When robots took over jobs", "A cybersecurity event"],
                correct: 0
            },
            {
                question: "Which is an example of Narrow AI (Weak AI)?",
                answers: ["A system that can do any human task", "A robot with human-level intelligence", "A fully conscious machine", "A virtual assistant (like Siri/Alexa)"],
                correct: 3
            },
            {
                question: "Which is a key ethical concern of AI?",
                answers: ["AI never makes mistakes", "Bias, unfairness, and discrimination", "AI doesn't need data", "AI always follows the law"],
                correct: 1
            },
            {
                question: "Which is one of the UK AI principles?",
                answers: ["Speed and efficiency", "Profit maximisation", "Replacing all human workers", "Transparency and explainability"],
                correct: 3
            },
            {
                question: 'What does "machine learning" mean?',
                answers: ["A robot that can walk and talk", "Software that never needs updating", "A system that learns and improves from data without being explicitly programmed", "A machine programmed with every possible answer"],
                correct: 2
            },
            {
                question: 'What is a "neural network" inspired by?',
                answers: ["The human brain", "The internet", "A spider's web", "A computer's hard drive"],
                correct: 0
            },
            {
                question: 'What is "natural language processing" (NLP) used for?',
                answers: ["Processing images and videos", "Controlling robots in factories", "Understanding and generating human language", "Mining cryptocurrency"],
                correct: 2
            }
        ];

        const letters = ["A", "B", "C", "D"];

        const codeSnippets = [
            `import torch\nfrom transformers import GPT2Model\n\nmodel = GPT2Model.from_pretrained('gpt2')\ntokens = tokenizer("AI is", return_tensors="pt")\noutput = model.generate(**tokens, max_length=50)`,
            `def train_neural_network(data, epochs=100):\n    model = Sequential([\n        Dense(128, activation='relu'),\n        Dropout(0.3),\n        Dense(10, activation='softmax')\n    ])\n    model.fit(data, epochs=epochs)`,
            `# Natural Language Processing\nfrom nltk import word_tokenize, pos_tag\n\ntext = "AI understands human language"\ntokens = word_tokenize(text)\ntagged = pos_tag(tokens)\nprint(tagged)`,
            `class NeuralNetwork(nn.Module):\n    def __init__(self):\n        super().__init__()\n        self.layer1 = nn.Linear(784, 256)\n        self.layer2 = nn.Linear(256, 10)\n\n    def forward(self, x):\n        return self.layer2(F.relu(self.layer1(x)))`,
            `# Computer Vision Pipeline\nimport cv2\nfrom ultralytics import YOLO\n\nmodel = YOLO('yolov8n.pt')\nresults = model.predict(source='image.jpg')\nresults[0].plot()`,
            `# Reinforcement Learning\nenv = gym.make('CartPole-v1')\nagent = DQNAgent(state_size=4, action_size=2)\n\nfor episode in range(1000):\n    state = env.reset()\n    reward = agent.train(state)`,
            `from sklearn.ensemble import RandomForest\nfrom sklearn.metrics import accuracy_score\n\nmodel = RandomForest(n_estimators=100)\nmodel.fit(X_train, y_train)\npredictions = model.predict(X_test)\nprint(f"Accuracy: {accuracy_score(y_test, pred)}")`,
            `# Sentiment Analysis\nfrom transformers import pipeline\n\nclassifier = pipeline("sentiment-analysis")\nresult = classifier("AI is transforming the world")\nprint(result)\n# [{'label': 'POSITIVE', 'score': 0.99}]`,
        ];

        // Typewriter code component
        function CodeTypewriter({ questionIndex }) {
            const [displayed, setDisplayed] = useState('');
            const snippet = codeSnippets[questionIndex % codeSnippets.length];

            useEffect(() => {
                setDisplayed('');
                let i = 0;
                const interval = setInterval(() => {
                    if (i < snippet.length) {
                        setDisplayed(snippet.slice(0, i + 1));
                        i++;
                    } else {
                        clearInterval(interval);
                    }
                }, 25);
                return () => clearInterval(interval);
            }, [snippet]);

            return (
                <div className="mt-2 rounded-lg bg-black/40 backdrop-blur-sm border border-white/5 px-3 py-2 overflow-hidden">
                    <div className="flex items-center gap-1.5 mb-1.5">
                        <div className="w-2 h-2 rounded-full bg-red-500/70"></div>
                        <div className="w-2 h-2 rounded-full bg-yellow-500/70"></div>
                        <div className="w-2 h-2 rounded-full bg-green-500/70"></div>
                        <span className="text-white/20 text-[9px] font-mono ml-2">ai_model.py</span>
                    </div>
                    <pre className="font-mono text-[10px] leading-relaxed text-brand/50 whitespace-pre overflow-hidden" style={{maxHeight: '75px'}}>
                        <code>{displayed}</code>
                        <span className="cursor-blink text-brand">|</span>
                    </pre>
                </div>
            );
        }

        // Floating particles component
        function Particles() {
            const particles = Array.from({ length: 20 }, (_, i) => ({
                id: i,
                left: Math.random() * 100,
                delay: Math.random() * 15,
                duration: 8 + Math.random() * 12,
                size: 2 + Math.random() * 4,
            }));
            return (
                <div className="absolute inset-0 overflow-hidden pointer-events-none">
                    {particles.map(p => (
                        <div key={p.id} className="particle"
                            style={{
                                left: `${p.left}%`,
                                width: `${p.size}px`,
                                height: `${p.size}px`,
                                animationDelay: `${p.delay}s`,
                                animationDuration: `${p.duration}s`,
                            }}
                        />
                    ))}
                </div>
            );
        }

        // Start screen
        function StartScreen({ onStart }) {
            return (
                <div className="h-screen flex flex-col bg-dark-900 tech-grid relative scan-line overflow-hidden cursor-pointer" onClick={onStart}>
                    <Particles />
                    <div className="relative z-10 flex flex-col items-center justify-center flex-1 px-8 text-center">
                        <div className="fade-in">
                            <img src="orange banner.jpg" alt="Step8up"
                                className="w-[55%] max-w-[280px] rounded-2xl shadow-2xl shadow-brand/20 mb-8 mx-auto border-2 border-brand/20" />
                            <h1 className="text-brand text-4xl font-extrabold mb-3 tracking-wide">AI Essentials Quiz</h1>
                            <p className="text-white/40 font-mono text-xs mb-10 tracking-widest">[ 8 QUESTIONS // BCS SYLLABUS ]</p>
                            <div className="tap-pulse text-brand text-lg font-semibold tracking-wide">
                                Tap to Start
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Quiz screen
        function QuizScreen({ question, questionIndex, total, selectedAnswer, onSelect }) {
            const progress = ((selectedAnswer !== null ? questionIndex + 1 : questionIndex) / total) * 100;

            return (
                <div className="h-screen flex flex-col bg-dark-900 tech-grid relative scan-line overflow-hidden">
                    <Particles />
                    <div className="relative z-10 flex flex-col flex-1 px-6 pt-5 pb-4">
                        {/* Progress */}
                        <div className="w-full h-1.5 bg-dark-600 rounded-full mb-2 overflow-hidden">
                            <div className="h-full bg-brand rounded-full progress-glow transition-all duration-500 ease-out"
                                style={{ width: `${progress}%` }} />
                        </div>

                        {/* Counter */}
                        <div className="text-right font-mono text-xs text-brand/60 mb-4 tracking-widest">
                            [{String(questionIndex + 1).padStart(2, '0')}/{String(total).padStart(2, '0')}]
                        </div>

                        {/* Question */}
                        <div key={questionIndex} className="slide-up mb-5">
                            <h2 className="text-white text-lg font-bold leading-snug">
                                {question.question}
                            </h2>
                        </div>

                        {/* Answers */}
                        <div className="flex flex-col gap-3">
                            {question.answers.map((ans, i) => {
                                let cardClass = "backdrop-blur-md bg-white/10 border border-white/10 hover:border-brand/60 hover:bg-white/15";
                                let letterClass = "bg-brand/20 text-brand";
                                let textClass = "text-white/90";

                                if (selectedAnswer !== null) {
                                    if (i === question.correct) {
                                        cardClass = "bg-emerald-500/90 border-emerald-400";
                                        letterClass = "bg-white text-emerald-600";
                                        textClass = "text-white font-bold";
                                    } else if (i === selectedAnswer && selectedAnswer !== question.correct) {
                                        cardClass = "bg-red-500/90 border-red-400";
                                        letterClass = "bg-white text-red-600";
                                        textClass = "text-white font-bold";
                                    } else {
                                        cardClass = "bg-white/5 border-white/5 opacity-30";
                                        letterClass = "bg-white/10 text-white/30";
                                        textClass = "text-white/30";
                                    }
                                }

                                return (
                                    <div key={i}
                                        className={`slide-up flex items-center rounded-xl px-4 py-3 cursor-pointer border-2 transition-all duration-200 active:scale-[0.98] ${cardClass} ${selectedAnswer !== null ? 'pointer-events-none' : ''}`}
                                        style={{ animationDelay: `${i * 0.08}s` }}
                                        onClick={() => onSelect(i)}
                                    >
                                        <div className={`w-9 h-9 rounded-lg flex items-center justify-center font-mono font-bold text-sm mr-3 flex-shrink-0 transition-all duration-200 ${letterClass}`}>
                                            {letters[i]}
                                        </div>
                                        <span className={`text-sm font-semibold leading-snug transition-all duration-200 ${textClass}`}>
                                            {ans}
                                        </span>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Typewriter code */}
                        <CodeTypewriter questionIndex={questionIndex} />
                    </div>
                </div>
            );
        }

        // Animated counter
        function AnimatedCounter({ target, duration = 1500 }) {
            const [count, setCount] = useState(0);
            useEffect(() => {
                let start = 0;
                const startTime = Date.now();
                const tick = () => {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const eased = 1 - Math.pow(1 - progress, 3);
                    setCount(Math.round(eased * target));
                    if (progress < 1) requestAnimationFrame(tick);
                };
                requestAnimationFrame(tick);
            }, [target]);
            return <span>{count}%</span>;
        }

        // Result screen
        function ResultScreen({ score, total, onRestart }) {
            const pct = Math.round((score / total) * 100);
            let msg, msgColor;
            if (pct >= 75) { msg = 'Excellent Work!'; msgColor = 'text-emerald-400'; }
            else { msg = 'Good effort, spin the wheel and become a master in AI!'; msgColor = 'text-brand'; }

            return (
                <div className="h-screen flex flex-col bg-dark-900 tech-grid relative overflow-hidden">
                    <Particles />
                    <div className="relative z-10 flex flex-col items-center justify-center flex-1 px-8 text-center">
                        <div className="fade-in">
                            <div className="w-44 h-44 rounded-full border-4 border-brand flex flex-col items-center justify-center mb-6 glow-pulse">
                                <div className="font-mono text-5xl font-extrabold text-brand">
                                    <AnimatedCounter target={pct} />
                                </div>
                                <div className="text-white/40 text-xs font-mono tracking-widest mt-1">SCORE</div>
                            </div>

                            <h2 className={`text-2xl font-bold mb-2 ${msgColor}`}>{msg}</h2>
                            <p className="text-white/50 font-mono text-sm mb-10">
                                {score}/{total} correct answers
                            </p>

                            <button onClick={onRestart}
                                className="bg-brand text-dark-900 font-bold text-lg px-12 py-4 rounded-xl hover:bg-brand-dark active:scale-95 transition-all duration-200 shadow-lg shadow-brand/30">
                                Try Again
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Main App
        function App() {
            const [screen, setScreen] = useState('start');
            const [questionIndex, setQuestionIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const timerRef = useRef(null);

            const handleStart = useCallback(() => {
                setScreen('quiz');
                setQuestionIndex(0);
                setScore(0);
                setSelectedAnswer(null);
            }, []);

            const handleSelect = useCallback((index) => {
                if (selectedAnswer !== null) return;
                setSelectedAnswer(index);

                if (index === questions[questionIndex].correct) {
                    setScore(s => s + 1);
                }

                timerRef.current = setTimeout(() => {
                    if (questionIndex + 1 >= questions.length) {
                        setScreen('result');
                    } else {
                        setQuestionIndex(qi => qi + 1);
                        setSelectedAnswer(null);
                    }
                }, 2000);
            }, [selectedAnswer, questionIndex]);

            const handleRestart = useCallback(() => {
                if (timerRef.current) clearTimeout(timerRef.current);
                setScreen('start');
                setQuestionIndex(0);
                setScore(0);
                setSelectedAnswer(null);
            }, []);

            if (screen === 'start') return <StartScreen onStart={handleStart} />;
            if (screen === 'result') return <ResultScreen score={score} total={questions.length} onRestart={handleRestart} />;
            return (
                <QuizScreen
                    question={questions[questionIndex]}
                    questionIndex={questionIndex}
                    total={questions.length}
                    selectedAnswer={selectedAnswer}
                    onSelect={handleSelect}
                />
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
